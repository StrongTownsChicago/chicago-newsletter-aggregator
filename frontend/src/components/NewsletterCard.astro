---
interface Props {
  newsletter: any;
}

const { newsletter } = Astro.props;
---

<article class="bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-6 border border-gray-200">
  <h2 class="text-2xl font-semibold mb-2">
    <a href={`/newsletter/${newsletter.id}`} class="hover:text-blue-600 transition-colors">
      {newsletter.subject}
    </a>
  </h2>
  
  <div class="flex flex-wrap items-center gap-2 text-sm text-gray-600 mb-2">
    {newsletter.sources?.name && (
      <span class="font-medium text-gray-800">{newsletter.sources.name}</span>
    )}
    {newsletter.sources?.ward_number && (
      <span class="px-2 py-0.5 bg-blue-50 text-blue-700 rounded-full text-xs font-semibold">
        Ward {newsletter.sources.ward_number}
      </span>
    )}
    <span class="text-gray-400">â€¢</span>
    <time datetime={newsletter.received_date}>
      {new Date(newsletter.received_date).toLocaleDateString('en-US', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      })}
    </time>
  </div>

  {newsletter.summary && (
    <p class="text-gray-700 mb-3 line-clamp-2">{newsletter.summary}</p>
  )}

  {newsletter.topics && newsletter.topics.length > 0 && (
    <div class="flex flex-wrap gap-2">
      {newsletter.topics.map((topic: string) => (
        <span class="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full">
          {topic}
        </span>
      ))}
    </div>
  )}
</article>